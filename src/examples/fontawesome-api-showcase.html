<!DOCTYPE html>
<html lang="es" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Font Awesome API Integration Showcase</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    
    <!-- Vue.js -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    
    <!-- Estilos UBITS -->
    <link rel="stylesheet" href="../styles/ubits-tokens.css">
    <link rel="stylesheet" href="../styles/globals.css">
    
    <style>
        .showcase-container {
            background: var(--ubits-bg-1);
            color: var(--ubits-fg-1-high);
            min-height: 100vh;
            font-family: 'Noto Sans', sans-serif;
        }
        
        .showcase-header {
            background: var(--ubits-bg-1);
            border-bottom: 1px solid var(--ubits-border-1);
            color: var(--ubits-fg-1-high);
        }
        
        .showcase-section {
            background: var(--ubits-bg-1);
            border: 1px solid var(--ubits-border-1);
            color: var(--ubits-fg-1-high);
        }
        
        .showcase-title {
            color: var(--ubits-fg-1-high);
        }
        
        .showcase-subtitle {
            color: var(--ubits-fg-1-medium);
        }
        
        .api-status {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--ubits-accent-brand);
            color: white;
            padding: 8px 16px;
            border-radius: var(--ubits-radius-sm);
            font-weight: 600;
            z-index: 1000;
            font-size: 12px;
        }
        
        .token-config {
            background: var(--ubits-bg-2);
            border: 1px solid var(--ubits-border-1);
            border-radius: var(--ubits-radius-md);
            padding: 20px;
            margin: 16px 0;
        }
        
        .token-item {
            background: var(--ubits-bg-1);
            border: 1px solid var(--ubits-border-1);
            border-radius: var(--ubits-radius-sm);
            padding: 16px;
            margin: 8px 0;
            transition: all 0.3s ease;
        }
        
        .token-item.active {
            border-color: var(--ubits-accent-brand);
            background: var(--ubits-bg-3);
        }
        
        .token-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--ubits-fg-1-high);
            margin-bottom: 8px;
        }
        
        .token-description {
            font-size: 14px;
            color: var(--ubits-fg-1-medium);
            margin-bottom: 12px;
        }
        
        .token-permissions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 12px;
        }
        
        .permission-badge {
            background: var(--ubits-feedback-bg-success-subtle);
            color: var(--ubits-feedback-accent-success);
            padding: 4px 8px;
            border-radius: var(--ubits-radius-sm);
            font-size: 12px;
            font-weight: 500;
        }
        
        .permission-badge.disabled {
            background: var(--ubits-feedback-bg-error-subtle);
            color: var(--ubits-feedback-accent-error);
        }
        
        .token-actions {
            display: flex;
            gap: 8px;
        }
        
        .token-button {
            background: var(--ubits-accent-brand);
            color: white;
            border: none;
            border-radius: var(--ubits-radius-sm);
            padding: 8px 16px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .token-button:hover {
            background: var(--ubits-button-primary-hover);
            transform: translateY(-1px);
        }
        
        .token-button.secondary {
            background: var(--ubits-bg-2);
            color: var(--ubits-fg-1-high);
            border: 1px solid var(--ubits-border-1);
        }
        
        .token-button.secondary:hover {
            background: var(--ubits-bg-3);
        }
        
        .icon-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 16px;
            margin: 20px 0;
        }
        
        .icon-item {
            background: var(--ubits-bg-2);
            border: 1px solid var(--ubits-border-1);
            border-radius: var(--ubits-radius-md);
            padding: 16px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .icon-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--ubits-shadow-md);
            background: var(--ubits-bg-3);
        }
        
        .icon-preview {
            font-size: 24px;
            color: var(--ubits-accent-brand);
            margin-bottom: 8px;
        }
        
        .icon-name {
            font-size: 12px;
            color: var(--ubits-fg-1-medium);
            font-weight: 500;
        }
        
        .icon-meta {
            font-size: 10px;
            color: var(--ubits-fg-1-low);
            margin-top: 4px;
        }
        
        .search-input {
            background: var(--ubits-bg-2);
            border: 1px solid var(--ubits-border-1);
            border-radius: var(--ubits-radius-sm);
            padding: 12px 16px;
            color: var(--ubits-fg-1-high);
            font-size: 14px;
            width: 100%;
            transition: all 0.3s ease;
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--ubits-accent-brand);
            box-shadow: 0 0 0 3px var(--ubits-button-focus-ring);
        }
        
        .category-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 16px 0;
        }
        
        .category-button {
            background: var(--ubits-bg-2);
            border: 1px solid var(--ubits-border-1);
            border-radius: var(--ubits-radius-sm);
            padding: 8px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            color: var(--ubits-fg-1-medium);
        }
        
        .category-button:hover {
            background: var(--ubits-bg-3);
            color: var(--ubits-fg-1-high);
        }
        
        .category-button.active {
            background: var(--ubits-accent-brand);
            color: white;
            border-color: var(--ubits-accent-brand);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: var(--ubits-bg-2);
            border: 1px solid var(--ubits-border-1);
            border-radius: var(--ubits-radius-md);
            padding: 20px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--ubits-accent-brand);
            margin-bottom: 8px;
        }
        
        .stat-label {
            font-size: 14px;
            color: var(--ubits-fg-1-medium);
            font-weight: 500;
        }
        
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--ubits-border-1);
            border-radius: 50%;
            border-top-color: var(--ubits-accent-brand);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .error-message {
            background: var(--ubits-feedback-bg-error-subtle);
            color: var(--ubits-feedback-accent-error);
            border: 1px solid var(--ubits-feedback-accent-error);
            border-radius: var(--ubits-radius-sm);
            padding: 12px;
            margin: 16px 0;
        }
        
        .success-message {
            background: var(--ubits-feedback-bg-success-subtle);
            color: var(--ubits-feedback-accent-success);
            border: 1px solid var(--ubits-feedback-accent-success);
            border-radius: var(--ubits-radius-sm);
            padding: 12px;
            margin: 16px 0;
        }
    </style>
</head>
<body class="showcase-container" x-data="fontAwesomeAPIShowcase()">
    <!-- API Status -->
    <div class="api-status" x-text="`API: ${apiConnected ? '✅ Conectado' : '❌ Desconectado'} | Cache: ${cacheSize} items`"></div>

    <!-- Header -->
    <header class="showcase-header shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <h1 class="text-xl font-semibold showcase-title">Font Awesome API Integration</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <!-- Theme Toggle -->
                    <button 
                        @click="toggleTheme()"
                        class="px-3 py-2 rounded-lg border border-gray-300 hover:bg-gray-50 dark:border-gray-600 dark:hover:bg-gray-700"
                        :title="isDark ? 'Cambiar a modo claro' : 'Cambiar a modo oscuro'"
                    >
                        <i :class="isDark ? 'fa-sun' : 'fa-moon'" class="mr-2"></i>
                        {{ isDark ? 'Claro' : 'Oscuro' }}
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Hero Section -->
        <div class="text-center mb-12">
            <h2 class="text-4xl font-bold showcase-title mb-4">
                Font Awesome API Integration
            </h2>
            <p class="text-xl showcase-subtitle mb-8">
                Integración robusta con tokens API oficiales de Font Awesome
            </p>
        </div>

        <!-- Token Configuration -->
        <div class="showcase-section p-8 rounded-lg mb-8">
            <h3 class="text-2xl font-bold showcase-title mb-6">Configuración de Tokens API</h3>
            
            <div class="token-config">
                <h4 class="text-lg font-semibold showcase-title mb-4">Tokens Disponibles</h4>
                
                <template x-for="token in availableTokens" :key="token.name">
                    <div 
                        class="token-item"
                        :class="token.isActive ? 'active' : ''"
                    >
                        <div class="token-name" x-text="token.name"></div>
                        <div class="token-description" x-text="token.description"></div>
                        
                        <div class="token-permissions">
                            <div 
                                class="permission-badge"
                                :class="token.permissions.readKits ? '' : 'disabled'"
                                x-text="'Leer Kits'"
                            ></div>
                            <div 
                                class="permission-badge"
                                :class="token.permissions.allowedDomains ? '' : 'disabled'"
                                x-text="'Dominios Permitidos'"
                            ></div>
                            <div 
                                class="permission-badge"
                                :class="token.permissions.emailAndId ? '' : 'disabled'"
                                x-text="'Email e ID'"
                            ></div>
                            <div 
                                class="permission-badge"
                                :class="token.permissions.freeIcons ? '' : 'disabled'"
                                x-text="'Iconos Gratuitos'"
                            ></div>
                            <div 
                                class="permission-badge"
                                :class="token.permissions.proIcons ? '' : 'disabled'"
                                x-text="'Iconos Pro'"
                            ></div>
                        </div>
                        
                        <div class="token-actions">
                            <button 
                                @click="activateToken(token.name)"
                                class="token-button"
                                :disabled="token.isActive"
                                x-text="token.isActive ? 'Activo' : 'Activar'"
                            ></button>
                            <button 
                                @click="copyToken(token.token)"
                                class="token-button secondary"
                                x-text="'Copiar Token'"
                            ></button>
                        </div>
                    </div>
                </template>
            </div>
        </div>

        <!-- API Statistics -->
        <div class="showcase-section p-8 rounded-lg mb-8">
            <h3 class="text-2xl font-bold showcase-title mb-6">Estadísticas de la API</h3>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" x-text="apiStats.totalIcons"></div>
                    <div class="stat-label">Iconos Totales</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" x-text="apiStats.cachedIcons"></div>
                    <div class="stat-label">Iconos en Cache</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" x-text="apiStats.apiCalls"></div>
                    <div class="stat-label">Llamadas a la API</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" x-text="apiStats.cacheHitRate + '%'"></div>
                    <div class="stat-label">Tasa de Acierto del Cache</div>
                </div>
            </div>
        </div>

        <!-- Icon Search -->
        <div class="showcase-section p-8 rounded-lg mb-8">
            <h3 class="text-2xl font-bold showcase-title mb-6">Búsqueda de Iconos</h3>
            
            <!-- Search Input -->
            <div class="mb-6">
                <input 
                    type="text" 
                    placeholder="Buscar iconos en la API de Font Awesome..." 
                    class="search-input"
                    x-model="searchQuery"
                    @input="searchIcons()"
                >
            </div>
            
            <!-- Category Filters -->
            <div class="category-filter">
                <button 
                    @click="setCategory('all')"
                    :class="selectedCategory === 'all' ? 'category-button active' : 'category-button'"
                >
                    Todos
                </button>
                <button 
                    @click="setCategory('popular')"
                    :class="selectedCategory === 'popular' ? 'category-button active' : 'category-button'"
                >
                    Populares
                </button>
                <button 
                    @click="setCategory('recent')"
                    :class="selectedCategory === 'recent' ? 'category-button active' : 'category-button'"
                >
                    Recientes
                </button>
                <button 
                    @click="setCategory('free')"
                    :class="selectedCategory === 'free' ? 'category-button active' : 'category-button'"
                >
                    Gratuitos
                </button>
                <button 
                    @click="setCategory('pro')"
                    :class="selectedCategory === 'pro' ? 'category-button active' : 'category-button'"
                >
                    Pro
                </button>
            </div>
            
            <!-- Loading State -->
            <div x-show="isLoading" class="text-center py-8">
                <div class="loading-spinner"></div>
                <p class="showcase-subtitle mt-4">Cargando iconos...</p>
            </div>
            
            <!-- Error State -->
            <div x-show="error" class="error-message" x-text="error"></div>
            
            <!-- Success State -->
            <div x-show="successMessage" class="success-message" x-text="successMessage"></div>
            
            <!-- Icons Grid -->
            <div class="icon-grid" x-show="!isLoading && !error">
                <template x-for="icon in filteredIcons" :key="icon.id">
                    <div 
                        class="icon-item"
                        @click="selectIcon(icon)"
                        :title="`${icon.label} - ${icon.styles.join(', ')}`"
                    >
                        <div class="icon-preview">
                            <i :class="`${icon.styles[0]} fa-${icon.name}`"></i>
                        </div>
                        <div class="icon-name" x-text="icon.name"></div>
                        <div class="icon-meta" x-text="icon.styles.join(', ')"></div>
                    </div>
                </template>
            </div>
            
            <!-- Selected Icon Info -->
            <div x-show="selectedIcon" class="mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                <h4 class="font-semibold text-blue-800 mb-2">Icono Seleccionado:</h4>
                <div class="flex items-center gap-4">
                    <div class="text-2xl text-blue-600">
                        <i :class="`${selectedIcon?.styles[0]} fa-${selectedIcon?.name}`"></i>
                    </div>
                    <div>
                        <div class="font-semibold text-blue-800" x-text="selectedIcon?.label"></div>
                        <div class="text-sm text-blue-600" x-text="selectedIcon?.name"></div>
                        <div class="text-sm text-blue-600" x-text="selectedIcon?.styles.join(', ')""></div>
                    </div>
                    <button 
                        @click="copyIconCode()"
                        class="token-button"
                    >
                        Copiar Código
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="showcase-header border-t mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <div class="text-center">
                <p class="showcase-subtitle">
                    🎨 Font Awesome API Integration - Tokens Oficiales
                </p>
                <p class="text-sm showcase-subtitle mt-2">
                    API: {{ apiConnected ? 'Conectado' : 'Desconectado' }} | Iconos: {{ filteredIcons.length }} | Cache: {{ cacheSize }} items
                </p>
            </div>
        </div>
    </footer>

    <!-- Alpine.js Data -->
    <script>
        function fontAwesomeAPIShowcase() {
            return {
                // Theme
                currentTheme: 'light',
                isDark: false,
                
                // API Status
                apiConnected: false,
                isLoading: false,
                error: null,
                successMessage: null,
                
                // Search
                searchQuery: '',
                selectedCategory: 'all',
                filteredIcons: [],
                selectedIcon: null,
                
                // Cache
                cacheSize: 0,
                
                // API Stats
                apiStats: {
                    totalIcons: 0,
                    cachedIcons: 0,
                    apiCalls: 0,
                    cacheHitRate: 0
                },
                
                // Available Tokens
                availableTokens: [
                    {
                        name: 'UBITS Pro Token',
                        token: '15ACD43C-4C0F-44D2-AE1C-6E8646841B1F',
                        permissions: {
                            readKits: true,
                            allowedDomains: true,
                            emailAndId: true,
                            freeIcons: true,
                            proIcons: true
                        },
                        description: 'Token principal para acceso completo a Font Awesome Pro',
                        isActive: true
                    },
                    {
                        name: 'Figma (Pro)',
                        token: 'CE7415C6-B548-4529-875C-03E0A9A8DF9D',
                        permissions: {
                            readKits: true,
                            allowedDomains: true,
                            emailAndId: true,
                            freeIcons: true,
                            proIcons: true
                        },
                        description: 'Token para integración con Figma y aplicaciones de diseño',
                        isActive: false
                    }
                ],
                
                // Methods
                init() {
                    // Cargar tema guardado
                    const savedTheme = localStorage.getItem('ubits-theme');
                    if (savedTheme === 'dark' || savedTheme === 'light') {
                        this.currentTheme = savedTheme;
                        this.isDark = savedTheme === 'dark';
                        this.applyTheme(savedTheme);
                    }
                    
                    // Simular conexión a la API
                    this.simulateAPIConnection();
                    
                    // Cargar iconos iniciales
                    this.loadInitialIcons();
                },
                
                setTheme(theme, save = true) {
                    this.currentTheme = theme;
                    this.isDark = theme === 'dark';
                    
                    this.applyTheme(theme);
                    
                    if (save) {
                        localStorage.setItem('ubits-theme', theme);
                    }
                },
                
                toggleTheme() {
                    const newTheme = this.currentTheme === 'light' ? 'dark' : 'light';
                    this.setTheme(newTheme);
                },
                
                applyTheme(theme) {
                    const root = document.documentElement;
                    root.classList.remove('light', 'dark');
                    root.classList.add(theme);
                    root.setAttribute('data-theme', theme);
                    document.body.setAttribute('data-theme', theme);
                },
                
                simulateAPIConnection() {
                    // Simular conexión a la API
                    setTimeout(() => {
                        this.apiConnected = true;
                        this.apiStats = {
                            totalIcons: 2000,
                            cachedIcons: 150,
                            apiCalls: 25,
                            cacheHitRate: 85
                        };
                        this.cacheSize = 150;
                    }, 1000);
                },
                
                loadInitialIcons() {
                    // Simular carga de iconos iniciales
                    this.filteredIcons = [
                        {
                            id: '1',
                            name: 'home',
                            label: 'Home',
                            styles: ['fas', 'far'],
                            unicode: 'f015'
                        },
                        {
                            id: '2',
                            name: 'user',
                            label: 'User',
                            styles: ['fas', 'far'],
                            unicode: 'f007'
                        },
                        {
                            id: '3',
                            name: 'cog',
                            label: 'Settings',
                            styles: ['fas', 'far'],
                            unicode: 'f013'
                        },
                        {
                            id: '4',
                            name: 'search',
                            label: 'Search',
                            styles: ['fas', 'far'],
                            unicode: 'f002'
                        },
                        {
                            id: '5',
                            name: 'heart',
                            label: 'Heart',
                            styles: ['fas', 'far'],
                            unicode: 'f004'
                        },
                        {
                            id: '6',
                            name: 'star',
                            label: 'Star',
                            styles: ['fas', 'far'],
                            unicode: 'f005'
                        }
                    ];
                },
                
                searchIcons() {
                    if (!this.searchQuery) {
                        this.loadInitialIcons();
                        return;
                    }
                    
                    this.isLoading = true;
                    this.error = null;
                    
                    // Simular búsqueda en la API
                    setTimeout(() => {
                        const query = this.searchQuery.toLowerCase();
                        this.filteredIcons = this.filteredIcons.filter(icon => 
                            icon.name.toLowerCase().includes(query) ||
                            icon.label.toLowerCase().includes(query)
                        );
                        this.isLoading = false;
                    }, 500);
                },
                
                setCategory(category) {
                    this.selectedCategory = category;
                    this.loadIconsByCategory(category);
                },
                
                loadIconsByCategory(category) {
                    this.isLoading = true;
                    this.error = null;
                    
                    // Simular carga por categoría
                    setTimeout(() => {
                        switch (category) {
                            case 'popular':
                                this.filteredIcons = this.filteredIcons.slice(0, 6);
                                break;
                            case 'recent':
                                this.filteredIcons = this.filteredIcons.slice(0, 4);
                                break;
                            case 'free':
                                this.filteredIcons = this.filteredIcons.filter(icon => 
                                    icon.styles.includes('far')
                                );
                                break;
                            case 'pro':
                                this.filteredIcons = this.filteredIcons.filter(icon => 
                                    icon.styles.includes('fas')
                                );
                                break;
                            default:
                                this.loadInitialIcons();
                        }
                        this.isLoading = false;
                    }, 500);
                },
                
                selectIcon(icon) {
                    this.selectedIcon = icon;
                },
                
                copyIconCode() {
                    if (this.selectedIcon) {
                        const code = `<i class="${this.selectedIcon.styles[0]} fa-${this.selectedIcon.name}"></i>`;
                        navigator.clipboard.writeText(code);
                        this.successMessage = 'Código copiado al portapapeles';
                        setTimeout(() => {
                            this.successMessage = null;
                        }, 3000);
                    }
                },
                
                activateToken(tokenName) {
                    this.availableTokens.forEach(token => {
                        token.isActive = token.name === tokenName;
                    });
                    this.successMessage = `Token ${tokenName} activado`;
                    setTimeout(() => {
                        this.successMessage = null;
                    }, 3000);
                },
                
                copyToken(token) {
                    navigator.clipboard.writeText(token);
                    this.successMessage = 'Token copiado al portapapeles';
                    setTimeout(() => {
                        this.successMessage = null;
                    }, 3000);
                }
            }
        }
    </script>
</body>
</html>
